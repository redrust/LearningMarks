### 1、如果不缺内存，如何使用一个具有库的语言来实现一种排序算法以表示和排序集合。
- 如今具有库的语言都拥有十分完整的排序算法底层支持。比如python
```python
l = [3,1,2]
# List集合内置sort
l.sort()
l.sort(reverse=True)
l.sort(key=lambda x:x*-1)
# 通用sorted方法，支持传入任意类型的集合
l = sorted(l, key=lambda x:x*1)
```
### 2、如何使用位逻辑运算（如与、或、移位）来实现位向量？
- 位向量是一种数据结构，用于表示一个集合，其中每个元素都对应于位向量中的一个位。对于一个集合中的元素来说，如果它出现在集合中，则对应的位为1，否则为0。
- （1）针对每个元素，都能唯一定位到向量中的一个位。
- （2）能够把向量中指定位设置成0或者1。
```python
def setBit(x, index, on):
	byteIndex, bitIndex = divmod(index, 8)
	byteLength = len(x)
	if on and byteLength < byteIndex + 1:
		x += b'\x00' * (byteIndex - byteLength + 1)
	x[byteIndex] |= 1 << bitIndex if on else ~(1 << bitIndex) & 0xFF

def getBit(x, index):
	byteIndex, bitIndex = divmod(index, 8)
	if byteIndex >= len(x):
		return False
	return bool(x[byteIndex] & (1 << bitIndex))

if __name__ == '__main__':
	l=[3,5,7]
	s = bytearray('')
	for v in l:
		setBit(s, v, True)
		print getBit(s, v)
```
### 3、运行时效率是设计目标的一个重要组成部分，所得到的程序需要足够高效。在你自己的系统上实现位图排序并度量其运行时间。该时间与系统排序的运行时间以及习题 1 中排序的运行时间相比如何？假设”为 10 000 000 ，且输入文件包含 1 000000 个整数。
- 习题1的实现是通用的二分排序，时间复杂度为O(log(n))，位图排序为O(n)。
### 4、如果认真考虑了习题 3 ，你将会面对生成小于且没有重复的 k 个整数的问题。最简单的方法就是使用前个正整数。这个极端的数据集合将不会明显地改变位图方法的运行时间，但是可能会歪曲系统排序的运行时间。如何生成位于 0 至n-1 之间的个不同的随机顺序的随机整数？尽量使你的程序简短且高效。
```python
import random

n = 10000000
l = [i for i in range(n)]
random.shuffle(l)
```
### 5、那个程序员说他有 1 MB 的可用存储空间，但是我们概要描述的代码需要 1.25MB 的空间。他可以不费力气地索取到额外的空间。如果 1 MB 空间是严格的边界，你会推荐如何处理呢？你的算法的运行时间又是多少？
- 因为对数据总量大小有预估上限，那么其实可以把位图切分成两部分，读取到当前数据时，计算处于哪一部分，然后看落在的部分是否在内存里，不在就去硬盘上读，当前在内存的就序列化到硬盘存储。循环往复直到全部处理完，再按顺序读取显示。
- 增加了落盘切换的处理，初步估计算法时间复杂度为O(2n)。
### 6、如果那个程序员说的不是每个整数最多出现一次，而是每个整数最多出现 10 次，你又如何建议他呢？你的解决方案如何随着可用存储空间总量的变化而变化？
- 如果不增加额外条件，比如要根据出现次数进阶排序的话，已有的算法可以支持。因为不管出现多少次，都会落在位图的同一个点位上。
### 7、[R. weil] 本书 1.4 节中描述的程序存在一些缺陷。首先是假定在输入中没有出现两次的整数。如果某个数出现超过一次的话，会发生什么？在这种情况下，如何修改程序来调用错误处理函数？当输入整数小于零或大于等于 n 时，又会发生什么？如果某个输入不是数值又如何？在这些情况下，程序该如何处理？程序还应该包含哪些明智的检查？描述一些用以测试程序的小型数据集合，并说明如何正确处理上述以及其他的不良情况。
- 输出文件中会丢失重复整数。
- 当检查到已经出现在位图中的整数再次出现时，调用错误处理函数。
- 会发生数组越界。
- 会报出索引类型异常。
- 从文件读出数据的时候检查数据格式是否合规。
### 8、当那个程序员解决该问题的时候，美国所有免费电话的区号都是 800 。现在免费电话的区号包括 800 、 877 和 888 ，而且还在增多。如何在 1 MB 空间内完成对所有这些免费电话号码的排序？如何将免费电话号码存储在一个集合中，要求可以实现非常快速的查找以判定一个给定的免费电话号码是否可用或者己经存在？
- 增加几个位图集合，检查当前整数是在哪个集合里，从硬盘中读取出来，设置之后再写回硬盘中。
- 输出文件则按顺序读取位图集合即可。
- 先判断免费号码是处于哪个集合中，读取出来之后再判断是否可用。
### 9、使用更多的空间来换取更少的运行时间存在一个问题：初始化空间本身需要消耗大量的时间。说明如何设计一种技术，在第一次访问向量的项时将其初始化为 0 。你的方案应该使用常量时间进行初始化和向量访问，使用的额外空间应正比于向量的大小。因为该方法通过进一步增加空间来减少初始化的时间，所以仅在空间很廉价、时间很宝贵且向量很稀疏的情况下才考虑使用。
- 看第2题代码。
### 10、在成本低廉的日送达时代之前，商店允许顾客通过电话订购商品，并在几天后上门自取。商店的数据库使用客户的电话号码作为其检索的主关键字（客户知道他们自己的电话号码，而且这些关键字几乎都是唯一的）。你如何组织商店的数据库，以允许高效的插入和检索操作？
- 使用客户电话号码作为数据库索引。
### 11、在 20 世纪 80 年代早期，洛克希德公司加利福尼亚州桑尼维尔市工厂的工程师们每天都要将许多由计算机辅助设计（ CAD ）系统生成的图纸从工厂送到位于圣克鲁斯市的测试站。虽然仅有 40 公里远，但使用汽车快递服务每天都需要一个多小时的时间（由于交通阻塞和山路崎岖），花费 100 美元。请给出新的数据传输方案并估计每一种方案的费用。
- （1）搭建通信网络：花费上万美元。
- （2）搭建广播网络：花费一千美元。
- （3）修路：数十万美元。
- （4）测试站搬家。
### 12、载人航天的先驱们很快就意识到需要在外太空的极端环境下实现顺利书写。民间盛传美国国家宇航局 (NASA ）花费 100 万美元研发出了一种特殊的钢笔来解决这个问题。那么，前苏联又会如何解决相同的问题呢？
- （1）设计新的笔，比如水性笔。
- （2）使用电脑记录。